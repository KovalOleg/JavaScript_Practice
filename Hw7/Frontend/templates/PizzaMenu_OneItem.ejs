<%

function getIngredientsArray(pizza) {
    //Отримує вміст піци
    var content = pizza.content;
    var result = [];

    //Object.keys повертає масив ключів в об’єкті JavaScript

    Object.keys(content).forEach(function(key){

        //a.concat(b) створює спільний масив із масивів a та b
        result = result.concat(content[key]);
    });

    return result;
}

   %>





<div class="col-lg-4 col-sm-7 col-md-6  mt-2">
                <div class="thumbnail border pizza-card"> <img src="<%= pizza.icon %>" style="width: 100%;">

                       <% if(pizza.is_new) { %>
        <div class="position-absolute btn btn-danger font-weight-bold" style="width: 80px; height: 30px; font-size: 18px; z-index: 99999; margin-left: -55px; margin-top: -20px;">
                        <p style="margin-top: -5px;">Нова</p>
                    </div>
        <% } else if(pizza.is_popular) {%>
        <div class="position-absolute btn btn-success font-weight-bold" style="width: 120px; height: 30px; font-size: 18px; z-index: 99999; margin-left: -95px; margin-top: -20px;">
                        <p style="margin-top: -5px;">Популярна</p>
                    </div>
        <% } %>






                    <div class="caption">
                        <h3><%= pizza.title %></h3> <small class="small" style="color:gray"><%= pizza.type %></small>
                        <p><%= getIngredientsArray(pizza).join(", ") %></p>
                    </div>

                          <div class="container-fluid" style="width: 100%; height: 200px;">
                           <% if(typeof pizza.small_size !== 'undefined') { %>
                                   <div class="col-4 float-left" style="margin-left: 30px;">
                           <img src="assets/images/size-icon.svg" alt="" style="width: 15px;  margin-left: 5px; height: 15px;"> 30
                            <br>
                            <img src="assets/images/weight.svg" alt="" style="width: 15px; height: 15px;"> <%= pizza.small_size.weight%>
                            <br>

                            <span class="font-weight-bold" style="font-size: 38px; margin-left: 0px;">
                            <%= pizza.small_size.price%></span>
                            <div class="ml-1" style="margin-top:-10px; font-size: 20px; width: 20px;"> грн. </div>
                            <a href="#" class="buy-small btn btn-warning" style="color: white">Купити</a>
                        </div>
                        <%}%>
                    <% if(typeof pizza.big_size !== 'undefined') { %>
                        <div class="col-4 float-left" style="margin-left: 40px;">
                            <img src="assets/images/size-icon.svg" alt="" style="width: 15px; margin-left: 15px; height: 15px;"><%= pizza.big_size.size%>
                            <br>
                            <img src="assets/images/weight.svg" alt="" style="width: 15px; margin-left: 10px; height: 15px;"> <%= pizza.big_size.weight%>

                            <br>
                            <span class="font-weight-bold" style="font-size: 38px;"> <%= pizza.big_size.price%></span>
                            <div class="ml-3" style="margin-top:-10px; font-size: 20px; width: 20px;"> грн. </div>
                            <% if(typeof pizza.small_size !== 'undefined') { %>
                            <a href="#" class="buy-big btn float-right btn-warning"
                           style="bottom:45px; margin-left:70px; color:white;">
                            Купити
                        </a>
                            <%} else {%>
                            <a href="#" class="buy-big btn float-right btn-warning"
                           style="bottom:45px; margin-left:200px; color:white;">
                            Купити
                        </a>
                        <%}%>
                        </div>
                        <%}%>
                    </div>
                    <div class="mx-5" style="position: absolute; bottom: 10px;">   </div>
                </div>
            </div>
